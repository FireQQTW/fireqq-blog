---
title: GIT 常用指令集
date: "2021-03-31T22:40:32.169Z"
template: "post"
draft: false
slug: "GIT-use-command"
category: "F2E"
tags:
  - "GIT"
description: "一些常用的 GIT 指令集"
socialImage: ""
---

# 指令集
- [ADD](#add)
- [COMMIT](#commit)
- [RESET 回復檔案](#reset-回復檔案)
- [STASH 暫存](#stash-暫存)
- [BRANCH 分支](#branch-分支)
- [CHECKOUT 切換](#checkout-切換)
- [TAG 標記](#tag-標記)
- [LOG 記錄](#log-記錄)
- [PULL 更新遠端回來](#pull-更新遠端回來)
- [PUSH 送檔案到遠端](#push-送檔案到遠端)
- [CLEAN 清除檔案](#clean-清除檔案)

---

## ADD
* `git add` 新增檔案
* `git add .` 新增所有檔案
* `git add -u` 新增修改過的部分(不包含Untracked)
* `git add -i` add的互動模式 [參考]

## COMMIT
* `git commit` 提交檔案
* `git commit -m` 'commit massage' 單行提交(不進入 vi 編輯器)
* `git commit --amend` 編輯前一次的 commit 訊息

## RESET 回復檔案
* `git reset` 放棄 add，但保留修改
* `git reset --hard` 放棄所有修改，回到上個 commit 完成後的狀態
* `git reset --hard HEAD` 回到最新一個 commit 版本
* `git reset --hard HEAD^` 回到前一個 commit 版本
* `git reset --hard HEAD^^` 回到前前一個 commit 版本
* `git reset --hard HEAD~2` 回到前前前一個 commit 版本
* `git reset --soft HEAD^` 回復到 commit 提交前的狀態( HEAD^ 代表前 1 次)

## STASH 暫存
* `git stash` 將修改的部分丟進暫存
* `git stash list` 列出暫存的資料
* `git stash pop` 取出暫存

## BRANCH 分支
* `git branch` 列出所有 branch
* `git branch new-branch` 依此 branch 建立新的 branch
* `git branch new-branch master` 從 master 產生新的 branch
* `git branch push -u origin new_branch` 建立遠端 branch
* `git branch -f branchName commit-id` 把某個 branch 強制移動到某個commit
* `git branch -a` 顯示所有branch（包含remote）
* `git push origin :branch` 刪除遠端branch

## CHECKOUT 切換
* `git checkout branch-name` 切換到 branch-name
* `git checkout master` 切換到 master
* `git checkout -b new-branch master` 從 master 建立 new-branch 並同時切換過去
* `git checkout -b new-branch` 從此 branch 建立 new-branch
* `git checkout -b newlocalbranchname origin/branch-name` 建立來自remote的分支
* `git checkout -- file-name` 放棄對檔案的修改(未commit前)

## TAG 標記
* `git tag -l` 列出所有 tag
* `git tag -a tag-name -m 'tag massage'` 在目前的 HEAD 建立 tag-name 的 tag，並建立 tag massage 訊息
* `git tag tag-name commit-id` 在 commit-id 的 HEAD，建立 tag-name 的 tag
* `git tag -fa tag-name` 強制移動 tag 到當前的 commit
* `git tag -d tag-name` 移除 tag

## LOG 記錄
* `git log` 將所有 log 秀出來
* `git log --graph --oneline --all` 展出 branch 水管圖

## PULL 更新遠端回來
* `git pull origin master` 更新遠端origin(預設)的remote裡面的master分支回來

## PUSH 送檔案到遠端
* `git push origin master` 更新到遠端origin(預設)的remote裡面的master分支
* `git push remote yourbranch:master` 更新某個branch到remote的master上(通常只能夠master push 到 master)

## CLEAN 清除檔案
* `git clean -f` 刪除專案 untracked 的檔案
* `git clean -f -d` 刪除專案 untracked 的檔案、資料夾
* `git clean -f -X` 刪除專案 ignored 的檔案問題


---

# Q&A

1. **Q:【 ignore mode change 】**

	**原因：**檔案在跟win交換之後會產生chmod的改變，Git會判斷為以做修改
	
	**解法：** `git config core.fileMode false`

2. **Q:【 Download 回來的 Repositories 沒有出現其他 Branch 】**

	**原因：**只會抓基本的，其他要再重新建立
	
	**解法：** `git checkout -b newlocalbranchname origin/branch-name`